%
% Template for making SDDS Toolkit manual entries.
%
\begin{latexonly}
\newpage
\end{latexonly}

%
% Substitute the program name for sddsmonitor
%
\subsection{sddspvtest}
\label{sddspvtest}

\begin{itemize}
\item {\bf description:}
%
% Insert text of description (typically a paragraph) here.
%
\verb+sddspvtest+ tests the process variable given by the inputfile are out-of-range
or not and sets the number of out-of-range process variables to a control PV.

\item {\bf example:} 
%
% Insert text of examples in this section.  Examples should be simple and
% should be proceeded by a brief description.  Wrap the commands for each
% example in the following construct:
% 
%
\begin{verbatim}
sddspvtest linac.sdds -time=20 -runControlPV={string=shang:ControlLawRC,pingTimeout=4}\
  -runControlDescription=string=hi
\end{verbatim}
where the contents of the file \verb+linac.sdds+ are
\begin{verbatim}
SDDS1
&description text="Namecapture BURT Request File", contents="BURT Request", &end
&column name=ControlName, type=string,  &end
&column name=MaximumValue, type=double,  &end
&column name=MinimumValue, type=double,  &end
&data mode=ascii, &end
! page number 1
linac
                  10
soliday:PM1:X:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM1:Y:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM2:X:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM2:Y:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM3:X:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM3:Y:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM4:X:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM4:Y:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM5:X:positionM  1.000000000000000e+00 -1.000000000000000e+00 
soliday:PM5:Y:positionM  1.000000000000000e+00 -1.000000000000000e+00 
.......

\end{verbatim}

\item {\bf synopsis:}
%
% Insert usage message here:
%
\begin{verbatim}
usage: sddspvtest <inputFile> [-pvOutput=<pvName>[
  ,passValue=<integer>,failValue=<integer>]]
  [-time=<timeToRun>,<timeUnits>] [-interval=<timeInterval>,<timeUnits>]
  [-monitor]
  [-exitCondition={allPass|anyFail|converged=<cycles>|changed}]
  [-runControlPV={string=<string>|parameter=<string>},pingTimeout=<value>,
  pingInterval=<value>]
  [-runControlDescription={string=<string>|parameter=<string>}]
  [-pendIOtime=<value>] [-verbose]
\end{verbatim}
\item {\bf files:}
% Describe the files that are used and produced
\begin{itemize}
\item {\bf input file:} \par
The variable input file is an SDDS file with one string column: ControlName, which is required
and gives the list of control correctors (process variables or knobs). It also contains two
double columns: MaximumValue and MinimumValue, which are also required. Optional columns
are Monitor and ChangeLimit. Monitor values of Y or y cause monitoring to be used, while
ChangeLimit values are used with the \verb|-exitCondition| option.
\end{itemize}

%
\item {\bf switches:}
%
% Describe the switches that are available
%
    \begin{itemize}
%
%   \item {\tt -pipe[=input][,output]} --- The standard SDDS Toolkit pipe option.
%
        \item {\tt -pvOutput} --- optional. The output PV name for storing the testing results
               of PVs in the input. Qualifiers \verb|passValue| and \verb|failValue| set
               the values written for pass or fail. If it is not given, the number of
               failed tests is printed.
        \item {\tt -time} --- required. Total time for testing process variables.
               Valid time units are seconds, minutes, hours, or days.
        \item {\tt -interval} --- optional. Desired time interval for testing; units are the
               same as for \verb|-time|.
        \item {\tt -monitor} --- monitor all PVs regardless of the Monitor column.
        \item {\tt -exitCondition} --- program exit criterion: \verb|allPass|, \verb|anyFail|,
               \verb|converged=<cycles>|, or \verb|changed|.
        \item {\tt -runControlPV} --- specifies the runControl PV record. \verb|string| or
               \verb|parameter| is required; \verb|pingInterval| and \verb|pingTimeout|
               are optional.
        \item {\tt -runControlDescription} --- specifies a string or parameter value used
               for a runControl PV description record.
        \item {\tt -verbose} --- print out messages.
        \item {\tt -pendIOtime} --- sets the maximum time to wait for return of each value.
    \end{itemize}
\item {\bf see also:}
    \begin{itemize}
%
% Insert references to other programs by duplicating this line and 
% replacing <prog> with the program to be referenced:
%
    \item \progref{sddscontrollaw}
    \end{itemize}
%
% Insert your name and affiliation after the '}'
%
\item {\bf author: H. Shang, ANL}
\end{itemize}
