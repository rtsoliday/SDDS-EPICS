% sddstoolkit.sty - common macros for SDDS EPICS toolkit documentation
\ProvidesPackage{sddstoolkit}

% Canonical order for sections in an sddsprog itemize block:
%   \item {\bf description:}
%   \item {\bf examples:}
%   \item {\bf synopsis:}
%   \item {\bf files:} (optional)
%   \item {\bf switches:} (optional)
%   \item {\bf see also:} (optional)
%   \item {\bf author:}

% Provide no-op environments for compatibility when html/latex distinctions are unnecessary
\newenvironment{htmlonly}{}{}
\makeatletter
\@ifundefined{latexonly}{\newenvironment{latexonly}{}{} }{}
\makeatother
\providecommand{\htmladdnormallink}[2]{\href{#2}{#1}}

% Program reference macro: hyperlink to a program label and typeset as program()
\providecommand{\progref}[1]{\hyperref[#1]{\texttt{#1()}}}

% Ensure boldface is preserved in HTML output.
\ifdefined\HCode
  \ifx\HCode\relax\else
    \renewcommand{\textbf}[1]{\HCode{<strong>}#1\HCode{</strong>}}
  \fi
\fi

% Ensure verbatim text uses a monospace font in HTML output.
\ifdefined\HCode
  \ifx\HCode\relax\else
    \ifdefined\Css
      \Css{pre,code,tt { font-family: monospace; }}
    \fi
  \fi
\fi

% Environment for individual program documentation sections
\newenvironment{sddsprog}[1]{%%
  \begin{latexonly}\newpage\end{latexonly}%
  \subsection{#1}\label{#1}%
  \begin{itemize}%
}{%%
  \end{itemize}%
}

\endinput
